#!/bin/sh
# Init script for xllmnrd
# Copyright (C) 2013 Kaz Nishimura
#
# Copying and distribution of this file, with or without modification, are
# permitted in any medium without royalty provided the copyright notice and
# this notice are preserved.  This file is offered as-is, without any
# warranty.

### BEGIN INIT INFO
# Provides: xllmnrd llmnrd
# Required-Start: $local_fs $network $syslog
# Required-Stop: $local_fs $network $syslog
# Default-Start: 2 3 4 5
# Default-Stop: 0 1 6
# Short-Description: Start or stop the IPv6 LLMNR responder
# Description:
### END INIT INFO

DAEMON=@sbindir@/xllmnrd
DAEMON_ARGS=''

if [ ! -x $DAEMON ]; then
    exit 0
fi

. /lib/lsb/init-functions

log_warning_msg $0 is a placeholder script

case "$1" in
start)
    start_daemon /bin/su - daemon -c "$DAEMON $DAEMON_ARGS"
    ;;
stop)
    #killproc -p /var/run/xllmnrd/xllmnrd.pid $DAEMON
    killall -- $DAEMON
    ;;
restart|force-reload)
    $0 stop
    $0 start
    ;;
status)
    ;;
esac

exit 0
